<!DOCTYPE html>

<style>
h2 {
    font-size: 22px;
    color: #666;
}
p{
    font-size: 16px;
    color: #272727;
}
.calc-table {
    margin: 0 auto;
}
.calc-table th {
    background-color: #ccc;
    font-size: 18px;
    color: blue;
    text-align: left;
    padding: 5px 0px 5px 15px;
}
.calc-table td {
    padding: 0 15px;
}
.left-cell{
    text-align: left;
}
.right-cell {
    text-align: right;
}
.calc-cell-emph {
    color: green;
    font-weight: bold;
}
</style>
<?php
// initializing of all variables
$annlAvgClientes = 12;
$addlNewClientes = 6;
$totNewClientes = $annlAvgClientes + $addlNewClientes;
$growthRate = ($totNewClientes - $annlAvgClientes) / $annlAvgClientes;
$adjustedGrowthRate = $growthRate * 100;
$avgMonthRev = 50000;
$monthlyRoyalty = 0.10;
$adjustedMonthlyRoyalty = $monthlyRoyalty / 100;
$clientFee= 35000;
$fPS = $totNewClientes * ($avgMonthRev * $monthlyRoyalty) + $totNewClientes * $clientFee;
$busAsUsual = ($annlAvgClientes * $avgMonthRev * $monthlyRoyalty) + $annlAvgClientes * $clientFee;
$addlRevenue = $fPS - $busAsUsual;
$agreementTerms = 10;
$revThruTerm = $addlRevenue * $agreementTerms;

function calcGrowthAccelerate () {
    global $annlAvgClientes;
    global $addlNewClientes;
    global $totNewClientes;
    global $growthRate;
    global $adjustedGrowthRate;
    global $adjustedMonthlyRoyalty;
    global $monthlyRoyalty;
    $totNewClientes = $annlAvgClientes + $addlNewClientes;
    $growthRate = ($totNewClientes - $annlAvgClientes) / $annlAvgClientes;
    $adjustedGrowthRate = $growthRate * 100;
    $adjustedMonthlyRoyalty = $monthlyRoyalty / 100;
}
function calcGrowthRevIncrease () {
    global $annlAvgClientes;
    global $totNewClientes;
    global $avgMonthRev;
    global $monthlyRoyalty;
    global $clientFee;
    global $fPS;
    global $busAsUsual;
    global $addlRevenue;
    global $agreementTerms;
    global $revThruTerm;
    $fPS = $totNewClientes * ($avgMonthRev * $monthlyRoyalty) + $totNewClientes * $clientFee;
    $busAsUsual = ($annlAvgClientes * $avgMonthRev * $monthlyRoyalty) + $annlAvgClientes * $clientFee;
    $addlRevenue = $fPS - $busAsUsual;
    $revThruTerm = $addlRevenue * $agreementTerms;

}
?>

<div style="text-align: center;">
<div style="text-align:center; border: 1px solid black; display:inline-block;">
<h2>Client Growth Calculator </h2>
<p>(12 month period)</p>

<form action="index.php" method="post">
<table class="calc-table">
    <tr>
        <th colspan="2">Growth Accelerator</th>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td class="left-cell">Average # clients signed annually</td>
        <td class="right-cell"><input type="text" name="Annl-avg-clients" placeholder="<?php echo $annlAvgClientes; ?>"><?php if(isset($_POST['calculate'])) {
        $annlAvgClients = $_POST['Annl-avg-clients'];
    } ?>
</form></td>
    </tr>
    <tr>
        <td class="left-cell">Additional new clients desired</td>
        <td class="right-cell"><input type="text" name="Addl-new-clients"><?php if(isset($_POST['calculate'])) {
        $addlNewClientes = $_POST['Addl-new-clients'];
    } ?></td>
    </tr>
    <tr>
        <td class="left-cell">Growth Rate (percentage)</td>
        <td class="right-cell"><?php echo $adjustedGrowthRate . '%'; ?></td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td class="left-cell">Average monthly revenue per Unit/Territory</td>
        <td class="right-cell"><input type="text" name="Avg-monthly-rev"><?php if(isset($_POST['calculate'])) {
        $avgMonthRev = $_POST['Avg-monthly-rev'];
    } ?></td>
    </tr>
    <tr>
        <td class="left-cell">Your monthly royalty </td>
        <td class="right-cell"><input type="text" name="Monthly-royalty"><?php if(isset($_POST['calculate'])) {
        $monthlyRoyalty = $_POST['Monthly-royalty'];
    } ?></td>
    </tr>
    <tr>
        <td class="left-cell">Your client fee</td>
        <td class="right-cell"><input type="text" name="Client-fee"><?php if(isset($_POST['calculate'])) {
        $clientFee = $_POST['Client-fee'];
    } ?></td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td class="left-cell">Total new clients at accelerated growth rate</td>
        <td class="right-cell"><?php if(isset($_POST['calculate'])) {
        calcGrowthAccelerate();
        echo $totNewClientes;
    } ?></td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <th colspan="2">Gross Revenue Increase at Accelerated Growth Rate</th>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr class="calc-cell-emph">
        <td class="left-cell">Client Solution</td>
        <td class="right-cell"><?php echo $fPS; ?></td>
    </tr>
    <tr>
        <td class="left-cell">Business as Usual</td>
        <td class="right-cell"><?php echo $busAsUsual; ?></td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr class="calc-cell-emph">
        <td class="left-cell">Additional Revenue from Accelerated Growth</td>
        <td class="right-cell"><?php echo $addlRevenue; ?></td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td class="left-cell">Agreement Term (years)</td>
        <td class="right-cell"><input type="text" name="Agreement-term"><?php if(isset($_POST['calculate'])) {
        $agreementTerms = $_POST['Agreement-term'];
    } ?></td>
    </tr>
    <tr class="calc-cell-emph">
        <td class="left-cell">Incremental Revenue Thru Term</td>
        <td class="right-cell"><?php echo $revThruTerm ?></td>
    </tr>
    <tr>
        <td colspan="2"><input type="submit" name="calculate" value="Calculate"> <?php if(isset($_POST['calculate'])) {
     calcGrowthAccelerate();
     calcGrowthRevIncrease();
    } ?></td>
    </tr>
</table>
</form>
&nbsp;
<p>The text below is only used to confirm values are being updated by the php script.</p>
<?php
echo '<b>' . $annlAvgClientes . '</b> Average Clientes signed annually<br>';
echo '<b>' . $addlNewClientes . '</b> Additional New Clientes<br>';
echo '<b>' . $totNewClientes . '</b> Total New Clientes';
?>
</div>
</div>

</div>
